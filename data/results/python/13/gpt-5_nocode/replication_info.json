{
  "replication_study": {
    "hypothesis": "Among ESS respondents, higher concern about immigration (reverse-coded index from economic, cultural, and overall effect items) is associated with higher distrust in their country's parliament (reverse-coded 0\u201310 trust in parliament), controlling for individual- and macro-level covariates.",
    "study_type": "Observational",
    "data_plan": {
      "dataset_identifier": "Primary: data_clean.rds; Fallbacks: data_imp_5pct.rds, data_clean_5pct.rds (to be made available under /app/data)",
      "source_type": "Survey (European Social Survey, ESS)",
      "wave_or_subset": "Targeting ESS rounds 1\u20134 (2002\u20132009), following the original design (post_registration.json; original_paper.pdf summary).",
      "sample_size": "Computed at runtime and saved in /app/data/replication_results.json under n_rows_loaded (original reports ~110,732 individuals; post_registration.json).",
      "unit_of_analysis": "Individual respondent (Level 1), with grouping at country-round (Level 2) and country (Level 3) when available.",
      "access_details": "Place the dataset file(s) in /app/data before running. The script will auto-detect one of: data_clean.rds, data_imp_5pct.rds, data_clean_5pct.rds, or CSV equivalents.",
      "qualification": {
        "explanation": "The dataset appears to be a cleaned ESS-derived file in RDS format (replication_data contains data_clean.rds and variants). This provides a high-fidelity basis to replicate the original multilevel analysis of immigration concern and political distrust, while allowing re-estimation using Python. If the cleaned file departs from the exact original filters (e.g., exclusion of CEE countries, non-citizens, and minorities), it still offers a closely related sample from the same source suitable for a robustness-style replication.",
        "similarity_to_original": "Both leverage European Social Survey (ESS) items and structure. The original used ESS Rounds 1\u20134 with three-level HLM (post_registration.json: data.source, data.wave_or_subset, method.models; original_paper.pdf summary). Political trust measures and immigration concern index match ESS core items (post_registration.json: data.notes describing reverse-coding and index composition). The replication dataset files are RDS (replication_data/data_clean.rds, data_imp_5pct.rds, data_clean_5pct.rds), consistent with ESS-based preprocessing.",
        "deviation_from_original": "The original explicitly excludes newer democracies in Central and Eastern Europe and removes non-citizens/minorities (post_registration.json: data.wave_or_subset, data.notes). The provided cleaned RDS may or may not already apply these filters; the Python code does not impose additional exclusions beyond missingness. If filters differ, the replication constitutes a different sample while maintaining the same constructs. Also, the original used HLM software; we implement equivalent mixed-effects models in Python statsmodels MixedLM with nested structure approximation (country random intercept, variance component for country-round) or clustered OLS fallback if convergence issues arise, which is a methodological but minimal software deviation (post_registration.json: method.models)."
      },
      "notes": "The script infers variable names using common ESS naming conventions. Distrust outcomes are constructed by reversing trust measures when explicit 'distrust' variables are absent. Immigration concern is taken from a prebuilt index if present or constructed from imbgeco, imueclt, and imwbcnt by reverse-coding and averaging. All IO strictly uses /app/data. If RDS cannot be read, ensure pyreadr is installed and the file is saved as .rds."
    },
    "planned_method": {
      "steps": "1) Load dataset from /app/data (prefer data_clean.rds). 2) Identify or construct outcome variables: distrust in parliament (primary), and optionally politicians and legal system by reversing trust scales. 3) Identify or construct immigration concern index (reverse-coded average of economic, cultural, and overall items). 4) Assemble controls where available (economic, health, education dissatisfaction; interpersonal distrust; winner/loser; far-right vote; left-right; income; age; education; gender; macro controls if available). 5) Create grouping variables: country and country-round (if both available). 6) Fit mixed-effects linear model with random intercepts (country; variance component for country-round) predicting distrust from immigration concern and controls. 7) If MixedLM fails, fit OLS with cluster-robust standard errors by country-round (or country). 8) Save results to /app/data/replication_results.json and a columns-used CSV. 9) Compare the sign, magnitude, and significance of the immigration concern coefficient to the original.",
      "models": "Primary: Linear mixed-effects model (random intercepts for country; variance component for country-round) via statsmodels MixedLM. Fallback: OLS with cluster-robust SEs clustered by country-round (or country).",
      "outcome_variable": "Distrust in national parliament (primary); optionally distrust in politicians and legal system, on 0\u201310 reversed scale (higher = more distrust).",
      "independent_variables": "Immigration concern index (reverse-coded 0\u201310). Optional interactions (if corresponding variables exist): immigration concern \u00d7 long-term immigration-country; immigration concern \u00d7 far-right popularity.",
      "control_variables": "Economic dissatisfaction, dissatisfaction with health and education services, interpersonal distrust, winner/loser of last election, far-right vote indicator (if present), left\u2013right self-placement, household income, age, education, gender; macro controls if present: social protection expenditure, GDP per capita, unemployment, governance quality.",
      "tools_software": "Python 3.10; pandas, numpy, statsmodels, pyreadr.",
      "planned_estimation_and_test": {
        "estimation": "Unstandardized slope coefficient on immigration concern in models of distrust in parliament (and other outcomes if modeled).",
        "test": "Two-sided t-tests for the immigration concern coefficient; report p-values and 95% confidence intervals when available."
      },
      "missing_data_handling": "Listwise deletion per model (drop rows with missing in outcome or key predictors/controls used in that model).",
      "multiple_testing_policy": "No formal correction planned (aligning with original presentation); if multiple outcomes are reported, note that p-values are unadjusted and interpret primary outcome (parliament) as focal.",
      "inference_criteria": "Primary criterion: positive and statistically significant coefficient on immigration concern at alpha=0.05 (two-sided) for distrust in parliament. Robustness: similar sign and significance for politicians and legal system where available."
    },
    "codebase": {
      "files": {
        "replication_data/run_replication.py": "Entrypoint script. Loads ESS-derived RDS/CSV from /app/data; constructs outcomes and immigration concern; assembles controls; fits MixedLM (nested random intercepts: country; variance component: country-round) or clustered OLS fallback; writes replication_results.json and replication_columns_used.csv to /app/data."
      },
      "notes": "Ensure the dataset (e.g., data_clean.rds) is placed in /app/data before execution. The script auto-detects among several file names. Requires pyreadr for RDS support and statsmodels for MixedLM."
    },
    "docker_specs": {
      "base_image": "python:3.10-slim",
      "packages": {
        "python": [
          "numpy==1.26.4",
          "pandas==1.5.3",
          "scipy==1.10.1",
          "statsmodels==0.14.0",
          "pyreadr==0.4.9"
        ],
        "other": [
          ""
        ]
      },
      "hardware": {
        "gpu_support": "false",
        "min_gpu_memory_gb": "0",
        "min_ram_gb": "4"
      },
      "volumes": [
        "./data:/app/data"
      ]
    },
    "analysis": {
      "instructions": "1) Build Docker image with specified base and packages, or install packages locally. 2) Place data_clean.rds (or fallback file) into ./data so it mounts at /app/data. 3) Run: python data/original/13/0202_python_gpt5_nocode/replication_data/run_replication.py (or from container: python /workspace/.../replication_data/run_replication.py ensuring /app/data is mounted). 4) Inspect /app/data/replication_results.json for coefficients and p-values; primary target is the slope on imm_concern for y_parliament. 5) Compare sign, magnitude, and significance to the original findings (post_registration.json results; original_paper.pdf summary).",
      "comparison_metrics": "Direction/sign of the immigration concern coefficient; statistical significance at alpha=0.05; magnitude relative to 0\u201310 scale; qualitative alignment with original patterns across outcomes where available."
    }
  }
}