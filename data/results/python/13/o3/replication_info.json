{
  "replication_study": {
    "hypothesis": "Among respondents in Western European countries (ESS Round 5, 2010-2011), higher concern about immigration (imm_concern) will be associated with higher distrust in the national parliament (trstprl_rev), controlling for individual- and country-level covariates.",
    "study_type": "Observational",
    "data_plan": {
      "dataset_identifier": "ESS Round 5 (2010-2011) \u2013 West-European cleaned file (data_clean.rds / data_clean_5pct.rds)",
      "source_type": "Cross-national survey (European Social Survey)",
      "wave_or_subset": "Round 5 only (2010-2011) \u2013 14 Western European democracies",
      "sample_size": "25,586 individuals in full file (data_clean.rds); 1,279 individuals in 5 % subsample (data_clean_5pct.rds) used for quick tests",
      "unit_of_analysis": "Individual survey respondents (nested within countries)",
      "access_details": "The cleaned .rds files are provided in /app/data/original/13/0203_python_o3/replication_data. Raw Round 5 micro-data are publicly downloadable from https://www.europeansocialsurvey.org/ after free registration.",
      "qualification": {
        "explanation": "Round 5 was fielded two years after the period analysed in the original paper (Rounds 1-4). Using a later independent wave offers a genuinely new sample while preserving question wording and measurement, thereby testing temporal robustness of the focal effect.",
        "similarity_to_original": "Both datasets derive from the European Social Survey and employ identical items to build immigration concern (imbgeco, imueclt, imwbcnt \u2192 imm_concern) and distrust in parliament (trstprl \u2192 trstprl_rev) \u2013 see variable names in data_clean.rds (get_dataset_info) and description in post_registration.json.",
        "deviation_from_original": "Original study restricted to Rounds 1-4 (2002-2008/09) (post_registration.json, \"wave_or_subset\"). Current dataset is exclusively Round 5 (2010-2011) \u2013 verified by variable year (get_dataset_variable_summary shows 2010-2011). Thus respondents, context and time differ, providing an independent replication sample."
      },
      "notes": "Two cleaned versions are supplied: full sample (\u224825k) and a 5 % draw for light-weight runs. Both include all variables needed by the published model and already contain reverse-coded indicators (\u2026_rev). Country-level covariates are merged, and sampling weights (pspwght) are present."
    },
    "planned_method": {
      "steps": "1) Load data_clean_5pct.rds (or full file for final run).\n2) Drop observations with missing values on outcome, key predictor, or controls.\n3) Convert vote_gov, vote_frparty, and cntry to categorical.\n4) Fit a linear mixed-effects model predicting trstprl_rev with fixed effects: imm_concern + control set; random intercepts for country.\n5) Extract and store coefficient estimates, focusing on imm_concern.\n6) Compare sign and significance with original estimate (positive, p<0.001).",
      "models": "Linear mixed-effects model (random intercepts by country) estimated via REML.",
      "outcome_variable": "trstprl_rev (higher = greater distrust of parliament)",
      "independent_variables": "imm_concern (index of three immigration attitude items)",
      "control_variables": "happy_rev, stflife_rev, sclmeet_rev, distrust_soc, stfeco_rev, hincfel, stfhlth_rev, stfedu_rev, vote_gov, vote_frparty, lrscale, hhinc_std, agea, educ, female, vote_share_fr, socexp, lt_imm_cntry, wgi, gdppc, unemp",
      "tools_software": "Python 3.10, pandas, numpy, pyreadr, statsmodels",
      "planned_estimation_and_test": {
        "estimation": "Fixed-effect coefficient of imm_concern",
        "test": "t-test (Wald z) on coefficient; two-tailed \u03b1 = 0.05"
      },
      "missing_data_handling": "List-wise deletion (complete-case analysis, mirroring data_clean_5pct preparation).",
      "multiple_testing_policy": "No correction \u2013 single focal outcome.",
      "inference_criteria": "Replicated if coefficient for imm_concern is positive and statistically significant (p < 0.05). Magnitude comparison via standardized effect size will be reported."
    },
    "codebase": {
      "files": {
        "replicate_analysis.py": "Loads the cleaned ESS Round 5 dataset, prepares variables, fits the mixed-effects model, prints summary, and writes fixed-effect estimates to replication_fixed_effects.csv."
      },
      "notes": "Script relies on pyreadr for reading .rds, and statsmodels MixedLM. All I/O paths are restricted to /app/data to satisfy execution policy."
    },
    "docker_specs": {
      "base_image": "python:3.10-slim",
      "packages": {
        "python": [
          "pandas>=1.4.0",
          "numpy>=1.22.0",
          "statsmodels>=0.14.0",
          "pyreadr>=0.4.7"
        ],
        "other": []
      },
      "hardware": {
        "gpu_support": "false",
        "min_gpu_memory_gb": "0",
        "min_ram_gb": "4"
      },
      "volumes": [
        "./data:/app/data"
      ]
    },
    "analysis": {
      "instructions": "1) Build Docker image with specified packages.\n2) Mount data directory as /app/data.\n3) Execute: python replication_data/replicate_analysis.py (environment variable CLEAN_FILE can be switched to data_clean.rds for full sample).\n4) Inspect console output and replication_fixed_effects.csv for main coefficient.",
      "comparison_metrics": "Sign, statistical significance, and magnitude (raw coefficient) of imm_concern compared with original (\u22480.17, p<0.001)."
    }
  }
}