{"replication_study": {"hypothesis": "Among hypertensive respondents aged 45+ who self-report poor general health, each additional year of formal education is associated with a decrease in the probability of being under-diagnosed (undiagnosed despite screening).","study_type": "Observational","data_plan": {"dataset_identifier": "Processed IFLS Wave 4 subset for replication (processed_replication_data.csv)","source_type": "Survey (Indonesian Family Life Survey, IFLS Wave 4)","wave_or_subset": "Wave 4 (Nov 2007\u2013Apr 2008); focus on adults aged 45+; hypertensive sample; subset to poor self-reported general health","sample_size": "To be determined after filtering hypertensive adults and poor general health (computed during analysis).","unit_of_analysis": "Individual adult respondent","access_details": "Provided locally in ./data/original/5/python/replication_data; analysis code will read from /app/data.","qualification": {"explanation": "The dataset contains IFLS Wave 4 variables necessary to construct the focal outcome (under-diagnosis among hypertensives), the key predictor (years of education), and the poor general health subset, enabling a close replication on an independent processed extract. It preserves variable names and coding from IFLS, supporting high-fidelity operationalization.","similarity_to_original": "Same survey source as the original (IFLS Wave 4) documented in post_registration.json (original_study.data.source and wave_or_subset) and operational definitions (hypertension via BP thresholds; under-diagnosis via prior doctor diagnosis; education in years; probit with marginal effects). The processed replication dataset includes raw BP measures us07b1/us07c1/us07b2/us07c2, diagnosis cd05, education dl06/dl07, and age ar09, as seen in processed_replication_data.csv columns, matching the .do file logic.","deviation_from_original": "While the original computed and controlled for log per capita expenditures (PCE) using extensive consumption modules (post_registration.json; .do file details), the processed CSV does not include a ready-made log PCE variable. However, it contains the underlying ks02/ks06/ks08 components and hh_size to reconstruct PCE if needed. If reconstruction is too noisy or incomplete due to truncations/missing coding flags, the replication will document a robustness model with available controls (age, sex, distance rj11) and a primary model focusing on education, noting this deviation. Additionally, the poor general health indicator is inferred from IFLS self-reported health items (e.g., ar07), which will be mapped based on IFLS coding rather than a ready-made binary flag."},"notes": "Key variables present: under_diag, yrs_school, hypertension, ar07 (self-reported health), ar09/age, sex, rj11 (distance), cd05 (diagnosis), BP measures. Data appear clean but yrs_school has missing for many (needs construction done already per CSV). We will verify ar07 coding for poor health cutoff (likely ar07 >= 3). PCE/log PCE is not precomputed; rebuilding may require careful handling of missing codes (ks* and ks*x flags) as in the .do. All analysis IO will use /app/data paths."},"planned_method": {"steps": ["Load /app/data/processed_replication_data.csv.","Construct poor general health indicator from self-reported health (e.g., ar07) using IFLS coding: good = {very healthy, somewhat healthy}; poor = {unhealthy, somewhat unhealthy}. Tentatively set poor_health = 1 if ar07 >= 3; verify distribution.","Restrict to adults aged 45+ (age or ar09 >= 45) with non-missing BP and diagnosis information.","Define hypertensive = 1 using provided variable hypertension == 1 (already computed in dataset).","Define outcome under_diag = 1 if hypertensive==1 and not previously diagnosed (already provided in dataset).","Define key predictor yrs_school (already included).","Create controls: age, age^2; sex; distance proxy rj11 (dropping unknown via rj11x==8 if needed).","Optional: Reconstruct log per capita expenditures (log PCE) from ks02/ks06/ks08 module totals divided by hh_size; document data cleaning consistent with .do specifications (handle *_x flags for missing/don\u2019t know).","Filter the estimation sample: hypertensive==1 and poor_health==1 with non-missing under_diag, yrs_school, and selected controls.","Estimate a probit model: under_diag ~ yrs_school + age + age^2 + sex + distance (+ optional log PCE).","Report marginal effect of yrs_school at means and average marginal effects; compute robust standard errors.","Conduct sensitivity checks: (a) model with and without distance; (b) if log PCE can be reliably constructed, include it and compare.","Compare sign and magnitude to the original focal effect (-0.00867; SE 0.00420; p<0.05) for poor health subsample."],"models": "Probit regression (binary outcome) with marginal effects (statsmodels discrete.discrete_model.Probit or GLM with binomial, probit link).","outcome_variable": "under_diag (1 = hypertensive at screening but not previously diagnosed; 0 otherwise).","independent_variables": "yrs_school (years of formal education).","control_variables": "age, age^2, sex, distance to health center (rj11; drop rj11x==8), optionally log per capita expenditures if reconstructed.","tools_software": "Python 3.10+, pandas, numpy, statsmodels, scipy.","planned_estimation_and_test": {"estimation": "Marginal effect of yrs_school on probability of under-diagnosis in the poor general health hypertensive subsample.","test": "Wald/t-test on the marginal effect coefficient; two-sided; robust SEs."},"missing_data_handling": "Listwise deletion on the estimation sample after constructing variables and the poor-health indicator; if constructing log PCE, handle missing codes per .do (set to NaN), then drop missing.","multiple_testing_policy": "Not applicable (single focal outcome); if multiple robustness models, no formal correction applied; interpret as sensitivity.","inference_criteria": "Primary: marginal effect of yrs_school negative and statistically significant at alpha=0.05 in poor-health hypertensive subsample. Secondary: effect magnitude close to -0.009 probability points per year."},"codebase": {"files": {"Kim & Radoias 2016 - Replication Analysis.do": "Original Stata script describing construction of hypertension, under-diagnosis, education years, risk/time preferences, distance, and PCE. We will not execute this directly; it serves as reference for the Python translation.","processed_replication_data.csv": "Processed IFLS Wave 4 extract with core variables (BP measures, diagnosis, education fields, age, sex, distance, and many consumption components) used for replication.","replication_data.dta": "Stata dataset referenced by the .do file; not required if using the CSV.","Kim & Radoias 2016 - Replication Analysis__py.py (to be created)": "Python translation that reads /app/data/processed_replication_data.csv, constructs poor-health indicator, filters hypertensive adults 45+, estimates probit, and outputs results and marginal effects to /app/data."},"notes": "All IO will be in /app/data. The Python rewrite replaces Stata modeling. If PCE is reconstructed, the code will mirror the .do logic for missing codes as far as possible given available columns; otherwise, a reduced-control model is reported with deviations documented."},"docker_specs": {"base_image": "python:3.10-slim","packages": {"python": ["pandas>=2.0.3","numpy>=1.24.4","statsmodels>=0.14.0","scipy>=1.10.1","pyreadstat>=1.2.4"],"other": ["git","wget"]},"hardware": {"gpu_support": "false","min_gpu_memory_gb": "0","min_ram_gb": "4"},"volumes": ["./data:/app/data"]},"analysis": {"instructions": "1) Ensure /app/data contains processed_replication_data.csv. 2) Run the Python script Kim & Radoias 2016 - Replication Analysis__py.py which: loads the CSV, constructs poor_health from ar07 (poor_health=1 if ar07>=3), filters hypertensive==1 and age>=45 with non-missing under_diag and yrs_school, builds controls (age, age^2, sex, rj11; optionally log PCE), fits a probit under_diag ~ yrs_school + controls, and computes marginal effects. 3) Save model summary and marginal effects to /app/data/results_replication.txt and /app/data/marginal_effects.csv.","comparison_metrics": "Compare sign and significance of marginal effect of yrs_school to original (-0.00867; SE 0.00420; 5% level). Report estimated marginal effect, SE, z, p-value; optionally compare effect size per additional year and discuss magnitude differences."}},"entry_point": {"lang": "python","file": "Kim & Radoias 2016 - Replication Analysis__py.py","args": []},"entry": {"lang": "python","file": "Kim & Radoias 2016 - Replication Analysis__py.py","args": []}}