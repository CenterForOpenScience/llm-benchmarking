{
  "replication_study": {
    "hypothesis": "Among secondary-school students, membership in a bilingual (speaks a language other than the instructional language at home) group will be positively associated with English-as-a-foreign-language achievement (measured by averaged reading, writing and listening plausible-values), after adjusting for age, gender, socio-economic status, parental education, and cultural capital.",
    "study_type": "Observational",
    "data_plan": {
      "dataset_identifier": "Final replication dataset.rds  (20-country pooled sample)",
      "source_type": "Large-scale educational assessment database (likely OECD/PISA Foreign-Language option \u2013 contains PV scores, weights, school and country IDs)",
      "wave_or_subset": "Single cross-section; all records kept except (a) missing bilingual flag, (b) students speaking English at home, (c) zero sampling weight observations",
      "sample_size": "\u224820,000 students nested in \u22488,000 schools (get_dataset_shape shows 20,026\u00d747 prior to exclusions)",
      "unit_of_analysis": "Individual student",
      "access_details": "Supplied in /app/data via Final replication dataset.rds (no external request needed)",
      "qualification": {
        "explanation": "The replication dataset provides an independent, much larger sample collected under similar conditions (standardised cognitive & language tests, extensive background questionnaire). This allows a robustness test of the bilingualism\u2013foreign-language link using different cohorts and multiple countries.",
        "similarity_to_original": "Both studies use large-scale school assessments with IRT-scaled English achievement scores, German reading or analogous host-language scores, and identical background covariates (age, gender, HISEI, PARED, books at home). See original_paper.pdf pp. 76-77 (variables list) and replication_data columns list (get_dataset_columns).",
        "deviation_from_original": "Original study uses ELEMENT 6th-grade sample of 2,835 German pupils (original_paper.pdf p. 78); replication uses ~20k pupils from 20 countries and mixed grades (dataset head shows country_id values such as PT, EL, ES). Original focused on six language groups within Germany, whereas replication applies simple mono- vs bilingual contrast across a multi-country sample."
      },
      "notes": "Dataset arrives as .rds, read in Python with pyreadr. Contains 5 plausible values per skill dimension and sampling weights (FSW_*). Books variable is textual and recoded to ordinal 0\u20135. Age is numeric in months/years. Some variables include missing codes; listwise deletion will be applied."
    },
    "planned_method": {
      "steps": "1) Load .rds via pyreadr.\n2) Flag bilingual: I03_ST_A_S26A values 2 or 3 = monolingual (0), else bilingual (1).\n3) Drop pupils with missing bilingual flag or who speak English at home (I03_ST_A_S27B \u2260 0).\n4) Compute mean PV across five plausible-values for writing, reading, listening; then average these three to create overall English score.\n5) Recode cultural capital (books) to 0-5 ordinal; centre/standardise covariates (age, HISEI, PARED, cultural capital).\n6) Keep rows with positive sampling weight in at least one dimension.\n7) Fit linear mixed-effects model with random intercepts for schools nested in countries.\n8) Extract coefficient for bilingual (\u03b2_bilingual), SE, t and p-value.\n9) Save model summary.",
      "models": "Linear mixed-effects model: average_english ~ bilingual + gender + age_c + HISEI_c + Z_Parental + Z_Cultural + (1 | country/school)",
      "outcome_variable": "average_english (grand mean of PVs across skills)",
      "independent_variables": "bilingual (1 = bilingual, 0 = monolingual)",
      "control_variables": "Gender (SQt01i01), centred age (I08_ST_A_S02A), centred HISEI, z-standardised parental education (PARED), z-standardised cultural capital (books).",
      "tools_software": "Python 3.10; packages: pandas, numpy, pyreadr, statsmodels.",
      "planned_estimation_and_test": {
        "estimation": "Fixed-effect coefficient \u03b2 for bilingual indicator",
        "test": "t-test of \u03b2_bilingual = 0 using mixed-model estimated SE"
      },
      "missing_data_handling": "Listwise deletion on variables used in the model (after computing aggregates).",
      "multiple_testing_policy": "Not applicable (single focal coefficient).",
      "inference_criteria": "Positive \u03b2_bilingual with p < 0.05 \u2192 support for hypothesis; non-significant or negative \u03b2 \u2192 no support."
    },
    "codebase": {
      "files": {
        "replication_analysis.py": "Loads RDS, reproduces variable transformations, fits mixed-effects model, writes text summary to /app/data/model_summary.txt."
      },
      "notes": "All I/O restricted to /app/data as required. Script is self-contained; no external data calls. Executed via `python replication_analysis.py` inside container."
    },
    "docker_specs": {
      "base_image": "python:3.10-slim",
      "packages": {
        "python": [
          "pandas>=1.5.0",
          "numpy>=1.23.0",
          "statsmodels>=0.14.0",
          "pyreadr>=0.4.7"
        ],
        "other": [
          "r-base"
        ]
      },
      "hardware": {
        "gpu_support": "false",
        "min_gpu_memory_gb": "0",
        "min_ram_gb": "4"
      },
      "volumes": [
        "./data:/app/data"
      ]
    },
    "analysis": {
      "instructions": "1. Build docker image with listed packages (ensure r-base installed).\n2. Mount host ./data to /app/data.\n3. Inside container: `python replication_data/replication_analysis.py`.\n4. Inspect /app/data/model_summary.txt for coefficient of bilingual.",
      "comparison_metrics": "Compare sign (+/\u2013) and statistical significance (p<0.05) of \u03b2_bilingual against original study\u2019s coefficient (2.68, p<.01). Evaluate similarity in direction and significance."
    }
  }
}